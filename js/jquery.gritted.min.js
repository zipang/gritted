/**
 * jQuery Gritted
 * @url https://github.com/zipang/gritted
 * @date 2015-01-06
 */!function(t){"use strict";function e(r,s){function a(){l.hasLayoutChanged()&&l.redispatch()}var l=this,h=l.settings=o.extend({},e.DEFAULTS,r.data(),s),d=(l.$grid=r).children().remove().css({position:"absolute",top:0,left:-600}),f=l.defineHoles(h.holes);l.elements=o.map(d,o),f=Math.max(h.cols*h.rows,d.length+f),r.html(new Array(f+1).join('<div class="'+h.cellItemsClass+'"></div>')),l.cells=o.map(r.children(),function(t,e){var i=o(t);return i.data("grid-position",new n(l,i,e)),i}),d.appendTo(r),o(t).on("resize orientationchange",i(a,400)),a()}function i(t,e){return e=e||250,function(){var i=this,n=arguments;clearTimeout(t.hnd),t.hnd=setTimeout(function(){t.apply(i,n)},e)}}function n(t,e,i){this.grit=t,this.$cell=e,this.index=i}var o=t.jQuery||t.Zepto,r=" ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");e.filters={"default":function(){return{}}},e.DEFAULTS={cols:10,rows:5,cellItemsClass:"cell",fadeFiltered:!0,replaceFiltered:!0,minLayout:1,duration:500},e.prototype={redispatch:function(){var t,i,n,r,s=this,a=s.settings,l=s.holes,h=s._cols<=a.minLayout,d=a.duration,f=s.filterClass,u=a.filteredClass,c=a.filterAnimation,p=a.replaceFiltered,g=s.cells,m=0,v=g.length,w=s.elements,y=0,M=w.length,C=g[0].width(),x=g[0].height();for("function"!=typeof c&&(c=a.filterAnimation=e.filters[c]||e.filters["default"]);v>m&&M>y;)t=g[m].data("grid-position"),n=!0,r=w[y],(h||!t.isHole(l))&&(r.hasClass(u)?p&&(n=!1):(f&&!r.hasClass(f)?(i=c(s.$grid,w[y],y),a.fadeFiltered&&(i.opacity=0),r.addClass(u),p&&(n=!1)):i=o.extend(t.cssPosition(),{width:C,height:x,opacity:1}),r.animate(i,d)),y++),n&&m++},columnCount:function(){var t=this;return t._cols=Math.floor(t.$grid.width()/t.cells[0].outerWidth(!0))},hasLayoutChanged:function(){var t=this._cols;return this.columnCount()!==t},filter:function(t,e){var i=this,n=i.settings.filteredClass;n&&o("."+n,i.$grid).removeClass(n),i.filterClass=t,e&&o.extend(i.settings,e),i.redispatch()},defineHoles:function(t){var e,i=this.holes={},n=0;if(t)for(t=t.split(/[\s\,]+/g),n=t.length;e=t.pop();)i[e]=!0;return n}},n.prototype={toString:function(){var t=this.index,e=this.grit._cols,i=Math.floor(t/e)+1,n=t%e+1;return r[i]+n},cssPosition:function(){var t=this.$cell.position();return{top:t.top,left:t.left}},isHole:function(){var t=this,e=t.grit.holes;return e[""+t]||e[t.index+1]},makeHole:function(){var t=this.grit;t.holes[""+this]=!0,t.redispatch()},removeHole:function(){delete this.grit.holes[""+this]},toggleHole:function(t){var e=this.grit,i=e.holes,n="index"===t?e.index+1:""+this;i[n]=!i[n],e.redispatch()}},n.prototype.getName=n.prototype.toString,o.fn.gritted=function(t){return"namespace"===t?e:o(this).each(function(i,n){o(n).data("gritted",new e(o(n),t))})}}(window),function(t){function e(t){var e=t.random(),i=e[0],n=e[1];return i+Math.floor(Math.random()*(n-i))}var i={slideLeft:function(t,e){return{left:-Math.floor(Math.random()*t.width())-e.width()}},slideRight:function(t){return{left:t.width()+Math.floor(Math.random()*t.width())}},slideUp:function(t,e){return{top:-Math.floor(Math.random()*t.height())-e.height()}},slideDown:function(t){return{top:t.height()+Math.floor(Math.random()*t.height())}},disappear:function(t,e){var i=e.position(),n=e.width(),o=e.height();return{top:i.top+o/2,left:i.left+n/2,width:0,height:0}},explode:function(t){var i=t.width(),n=t.height();return{top:e([[-.5*n,-.1*n],[1.1*n,1.5*n]]),left:e([[-.5*i,-.1*i],[1.1*i,1.3*i]])}},implode:function(t){var e=Math.floor(t.width()/2),i=Math.floor(t.height()/2);return{top:i,left:e,width:0,height:0}},random:function(t,e,n){return i[Object.keys(i).random()](t,e,n)}};Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};var n=t.jQuery||t.Zepto,o=n.fn.gritted;o&&n.extend(o("namespace").filters,i)}(window);
